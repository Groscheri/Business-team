<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Business Team</title>
        <link rel="stylesheet" href="css/style.css">
        <script src="js/jquery.min.js"></script>
        <script src="js/module.js"></script>
    </head>

    <script type="text/javascript">
    /*
        TO READ :
        Object module contains all public functions we need
        Liste des fonctions utiles :
            - module.calculMeilleureEpargne(_revenu, _type)
            - module.calculNombrePartSurRevenu(_revenu, _nombreParents, _nombreEnfants, _type)
        Voir les commentaires dans module.js pour plus de détails sur les paramètres et le retour des fonctions.
    */

    // data de tests
    var type = "madelin";
    var revenu = 100000;
    var nombreParents = 1;
    var nombreEnfants = 2;


    // test calculMeilleureEpargne
    var retour = module.calculMeilleureEpargne(revenu, type);
    if (retour.state != 'ok') {
        displayError(retour);
    }
    else {
        var epargne = retour.data.epargne;
        alert("Revenu : " + revenu + " / type " + type + " : épargne => " + epargne);
    }


    // test calculNombrePartSurRevenu
    retour = module.calculNombrePartSurRevenu (revenu, nombreParents, nombreEnfants, type);
    if (retour.state != 'ok') {
        displayError(retour);
    }
    else {
        var part = retour.data.part;
        alert('Part [Parents : ' + nombreParents + '/Enfants : ' + nombreEnfants + '/Type : ' + type + ']  : ' + part);
    }


    // utils functions
    function displayError(error) {
        if (error.hasOwnProperty('message')) {
            alert('Error : ' + error.message);
        }
        else {
            alert('Unknown error !');
        }
    }

    </script>

    <body>

        <!-- Faire la vue ici -->

    </body>

</html>